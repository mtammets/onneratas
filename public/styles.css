/* ─── Teema & mõõdud ─────────────────────────────────────────── */
:root{
  --bg:#0b0f1a; --panel:#0f1424cc; --text:#eef2ff; --muted:#a7b1d6;
  --primary:#ff6f3c; --accent:#ffcf33; --vh:100vh;
  --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.35);

  /* Vormid */
  --field-bg:transparent; --field-bd:#ffffff26; --field-bd-hover:#ffffff3a;
  --field-bd-focus:#ffd28a66; --field-ring:#ffd28a18; --field-placeholder:#a7b1d699;
  --form-max:340px; --ctrl-h:52px;

  /* Ühtne komponentide disain */
  --btn-py:10px; --btn-px:14px; --btn-r:14px; --btn-w:800;
  --btn-shadow:0 8px 20px rgba(255,138,58,.28);
  --card-r:14px; --card-bg:linear-gradient(180deg,#121a31,#0e152b);
  --card-bd:1px solid #ffffff26; --card-shadow:0 8px 24px rgba(0,0,0,.32);

  /* Uued muutujad korduste vähendamiseks */
  --grad-primary: linear-gradient(180deg,#ffd28a,#ff8a3a);
  --glass-bg: #ffffff12;
  --glass-bd: #ffffff33;
  --btn-bd: #ffb96455;
  --card-hover-shadow: 0 12px 28px rgba(0,0,0,.36), inset 0 0 0 1px #ffffff18;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text);
  font-family:ui-sans-serif, system-ui, -apple-system,"SF Pro","Inter",Arial;
  background:
    radial-gradient(1200px 800px at 50% -20%, #ff7a1a22, transparent 60%),
    radial-gradient(800px 600px at 30% 120%, #ff3c8a15, transparent 60%),
    linear-gradient(180deg, #0a0d17, #0e1222 40%, #0b0f1a);
  min-height:var(--vh);
}

/* iOS: väldi input-fookusel automaatset suumimist */
input, textarea, select { font-size:16px; }

/* A11y utiliidid */
.sr-only{
  position:absolute!important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* ─── Üldine paigutus ─────────────────────────────────────────── */
.app{
  max-width:420px;
  margin:0 auto;
  padding: env(safe-area-inset-top) 16px calc(env(safe-area-inset-bottom) + 16px);
}
.topbar{display:flex; align-items:center; justify-content:space-between; padding:12px 4px 0}
.top-actions{display:flex; gap:8px; align-items:center}
.brand{display:flex; gap:10px; align-items:center; letter-spacing:.12em}
.brand .title{font-weight:800; font-size:14px}
.brand .spark{opacity:.75}
.stage{display:flex; flex-direction:column; align-items:center; gap:18px; margin-top:28px}
.actions{display:flex; gap:8px}

/* ──────────────────────────────────────────────────────────────
   ÜHTNE KOMPONENDISTIIL: Buttons, Cards, Modals
────────────────────────────────────────────────────────────── */

/* Buttons: base + variants */
button.primary,
button.ghost,
.arm-btn,
.modal-card footer .primary,
.modal-card footer .ghost{
  display:inline-flex; align-items:center; justify-content:center;
  padding:var(--btn-py) var(--btn-px);
  border-radius:var(--btn-r);
  font-weight:var(--btn-w);
  letter-spacing:.02em;
  cursor:pointer; user-select:none;
  border:1px solid transparent;
  transition:filter .2s, transform .06s, box-shadow .2s, border-color .2s;
}

/* Primary */
button.primary,
.arm-btn,
.modal-card footer .primary{
  background:var(--grad-primary);
  color:#3b1300;
  border-color:var(--btn-bd);
  box-shadow:var(--btn-shadow), inset 0 0 0 1px rgba(255,255,255,.06);
  text-transform:uppercase;
}
button.primary:hover,
.arm-btn:hover,
.modal-card footer .primary:hover{
  filter:saturate(110%); transform:translateY(-1px);
}
button.primary:disabled,
.arm-btn[disabled]{ opacity:.55; cursor:not-allowed; filter:saturate(.9); }

/* Ghost */
button.ghost,
.modal-card footer .ghost,
button.ghost.small{
  background:var(--glass-bg); color:var(--text);
  border-color:var(--glass-bd); backdrop-filter:blur(6px);
  box-shadow:inset 0 0 0 1px #ffffff10;
}
button.ghost:hover,
.modal-card footer .ghost:hover,
button.ghost.small:hover{
  filter:saturate(112%); transform:translateY(-1px); border-color:#ffffff55;
}
button.ghost.small{ padding:8px 10px; border-radius:10px; height:auto; font-weight:700; }

/* Focus */
button.primary:focus-visible,
button.ghost:focus-visible,
.arm-btn:focus-visible,
.spin-btn:focus-visible{
  outline:2px solid #ffd28a; outline-offset:2px; border-radius:14px;
}

/* ─── Card surface ─── */
.card,
.free-card{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 14px; border-radius:var(--card-r);
  background:var(--card-bg);
  border:var(--card-bd);
  box-shadow:var(--card-shadow), inset 0 0 0 1px #ffffff12;
  position:relative; overflow:hidden;
  transition:transform .12s, box-shadow .2s, border-color .2s;
}
.card:hover, .free-card:hover{
  transform:translateY(-1px);
  border-color:#ffffff44;
  box-shadow:var(--card-hover-shadow);
}

/* Roheline dot */
.dot{
  width:10px; height:10px; border-radius:999px; flex:0 0 auto;
  background:linear-gradient(180deg,#b2ffb2,#33d17a);
  box-shadow:0 0 12px rgba(51,209,122,.6);
}

/* ─── Ratas ───────────────────────────────────────────────────── */
.wheel-wrap{
  position:relative; width:min(92vw,340px); aspect-ratio:1/1; border-radius:50%;
  display:grid; place-items:center; overflow:hidden;
  background:
    radial-gradient(closest-side,#0d1223 55%,transparent 56%),
    radial-gradient(circle at 50% 50%,#ffcf3322,#ff6f3c10 40%,transparent 60%),
    radial-gradient(farthest-side,#1a213b,#0c1121 65%,#070b14);
  box-shadow:0 0 0 4px #1b2340, inset 0 0 40px 8px #0007, 0 15px 60px #0009;
  transition:box-shadow .25s ease, transform .25s ease;
}
.rotor{position:absolute; inset:0; display:grid; place-items:center; will-change:transform}
#wheel{width:92%; height:92%; display:block}
.pointer{
  position:absolute; top:-4px; left:50%; transform:translateX(-50%);
  width:0; height:0; border-left:12px solid transparent; border-right:12px solid transparent;
  border-top:18px solid var(--accent); filter:drop-shadow(0 6px 6px #0008);
  transition:filter .25s ease;
}

/* Aktiivse ratta glow */
.wheel-wrap.wheel-active{
  box-shadow:
    0 0 0 4px #1b2340,
    inset 0 0 60px 12px #0009,
    0 24px 90px rgba(0,0,0,.9),
    0 0 42px 6px rgba(255,210,138,.25);
}
.pointer.wheel-active{ filter: drop-shadow(0 10px 10px rgba(255,210,138,.55)); }

.bulbs{position:absolute; inset:6px; margin:0; padding:0; list-style:none; pointer-events:none}
.bulbs li{
  position:absolute; width:10px; height:10px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%,#fff,#ffd089 55%,#b86b00 80%);
  box-shadow:0 0 12px 3px #ffdc8a55, inset 0 0 4px #0006;
  animation:twinkle 1.4s infinite var(--delay) ease-in-out;
}
@keyframes twinkle{0%,100%{opacity:.5; transform:scale(.9)} 50%{opacity:1; transform:scale(1.08)}}
.axle{
  position:absolute; width:36%; aspect-ratio:1/1; border-radius:50%;
  background:radial-gradient(closest-side,#251a0f,#000); box-shadow:inset 0 6px 20px #000, 0 4px 30px #000a;
  display:grid; place-items:center;
}
.spin-btn{
  width:86%; aspect-ratio:1/1; border-radius:50%; border:none; cursor:pointer; position:relative;
  color:#3b1300; font-weight:900; letter-spacing:.08em; transition:transform .08s ease, filter .2s ease, opacity .2s ease;
  background:radial-gradient(circle at 30% 30%,#fff 0,#ffd2a1 40%,#ff8c4c 70%,#ff6f3c 100%);
  box-shadow:inset 0 5px 10px #fff7, 0 10px 16px #0008, 0 0 0 6px #2b1e10;
}
.spin-btn:active{transform:scale(.98)}
.spin-btn:disabled{opacity:.55; cursor:not-allowed; filter:saturate(.75)}
.spin-label{font-size:16px}

/* ─── Paneelid, ajalugu ──────────────────────────────────────── */
.panel{width:100%; background:linear-gradient(180deg,#0f1424aa,#0b0f1acc); border:1px solid #ffffff1f; border-radius:var(--radius); box-shadow:var(--shadow); padding:14px}
.panel h2{font-size:14px; margin:0 0 10px; color:#dbe3ff}

.history{display:grid; gap:10px; max-height:190px; overflow:auto; padding-right:4px}
.history .row{display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:12px; background:#ffffff08; border:1px solid #ffffff14}
.history .lbl{flex:1}
.small{font-size:12px}

/* ─── Meter ───────────────────────────────────────────────────── */
.meter{width:100%; padding:12px; display:grid; gap:8px; position:relative; overflow:hidden}
.meter-row{display:flex; align-items:center; gap:10px}
.meter .lbl{flex:1}
.meter-title{font-weight:800; letter-spacing:.02em}
.meter-sub{font-size:12px; opacity:.9}

/* Loendur badge */
.meter-count{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:58px; height:34px; padding:0 12px;
  border-radius:12px; background:#ffffff14; border:1px solid #ffffff22;
  font-weight:900; text-align:center;
}

/* “Saadaval” olek */
.meter--has{
  background: linear-gradient(180deg,#121a31,#0e152b) padding-box;
  border: 1px solid #ffffff26;
  box-shadow: 0 10px 28px rgba(0,0,0,.35), inset 0 0 0 1px #ffffff12;
}
.meter--has .meter-count{
  background: linear-gradient(180deg,#252f47,#1b243b);
  border-color:#ffffff3a;
  box-shadow: inset 0 0 0 1px #ffffff12, 0 6px 14px rgba(0,0,0,.25);
}

/* Kui tasuta keerutusi pole, teeme infotriibu */
.meter--empty{
  background:transparent; border-color:transparent; box-shadow:none; padding:6px 0;
}
.meter--empty .meter-row:first-child{ display:none; }
.meter--empty #nextFreeInfo{
  display:block; width:100%; margin:0 auto; text-align:center;
  font-size:14px; color:var(--muted); padding:6px 0;
}

/* ─── Free spin kaardid ─────────────── */
.free-list{display:grid; gap:10px}
.free-card .info{display:flex; align-items:center; gap:10px; font-weight:800}

/* AKTIVEERI nupp */
.arm-btn{}

/* Märge aktiveeritud kaardile */
.free-card.armed{outline:2px solid #33d17a66; outline-offset:2px}
.free-card.armed .arm-btn{
  background:linear-gradient(180deg,#2a3857,#19243b); color:#eef2ff; border-color:#ffffff44;
}

/* ─── Modaalid ───────────────────────────────────────────────── */

/* ✅ FIX: pane <dialog> täisekraani overlayks ja TSENTRI sisu */
.modal{
  border:none;
  padding:0;
  background:transparent;
}

.modal[open]::backdrop{
  background: radial-gradient(1000px 420px at 50% -10%, #0009, #000d);
  backdrop-filter: blur(2px);
}
/* Kui mõni modal on avatud, ära luba taustal kerida */
body:has(dialog[open]){ overflow:hidden; }

/* Kaart ise */
.modal-card{
  
  position:relative;
  width: 90vw;
  margin:0 auto;
  padding:22px 20px;
  border-radius:20px;
  background: linear-gradient(180deg, #141b31ee, #0c1227f2);
  border:1px solid #ffffff26;
  box-shadow: 0 22px 90px rgba(0,0,0,.72), inset 0 0 48px rgba(0,0,0,.5);
  overflow:hidden;
}
.modal-card::before{
  content:"";
  position:absolute; inset:-1px -1px auto -1px; height:120px;
  border-radius:inherit; pointer-events:none;
  background: radial-gradient(520px 140px at 50% 0, #ff9f3c29, transparent 60%);
}

.modal-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.6); /* soovi korral taust */
  z-index: 999;
}


/* Pealkiri */
.modal-card header h3{
  margin:0 0 10px; text-align:center;
  font-weight:900; font-size:20px; letter-spacing:.01em; color:#ffcf33;
}

/* Sisu */
.modal-body{display:grid; gap:14px; text-align:center}
.muted{color:var(--muted)}

/* Auhinna rida */
.prize-line{
  display:flex; align-items:center; justify-content:center;
  gap:12px; font-size:22px; font-weight:800; color:#eef2ff;
}
.prize-emoji{font-size:32px}

/* Nupurida */
.modal-card footer{ display:flex; justify-content:center; gap:14px; margin-top:14px; }

/* Animatsioon */
#prizeModal[open] .modal-card,
#historyModal[open] .modal-card{
  animation:modalIn .22s ease-out both;
}
@keyframes modalIn{
  from{opacity:0; transform:translateY(-6px) scale(.985)}
  to{opacity:1; transform:translateY(0) scale(1)}
}

/* Editor */
.modal-editor textarea{
  width:100%; min-height:260px; resize:vertical; padding:12px; border-radius:12px;
  background:#050812; color:#eaf; border:1px solid #314;
  font-family:ui-monospace,SFMono-Regular,Menlo,monospace; font-size:12px;
}

/* Muu */
.confetti{position:fixed; inset:0; pointer-events:none; width:100%; height:100%}
.history::-webkit-scrollbar{width:8px}
.history::-webkit-scrollbar-thumb{background:#ffffff22; border-radius:8px}
.hidden{display:none !important;} /* utiliit loogika jaoks */

/* ─── Mobiil (ruumi jäetud) ──────── */
@media (max-width:380px){
  /* lisa vajadusel väiksemaid kohandusi */
}


#walletList .free-card .info{ display:flex; align-items:center; gap:10px; font-weight:800; color:var(--text); }
#walletList .free-card .wallet-name{ color:var(--text); }
#walletList .free-card i{ flex:0 0 auto; }
#walletList .free-card:hover{ border-color:#ffffff44; box-shadow: var(--card-hover-shadow); }

/* Login modal */
#loginModal .modal-body{ text-align: initial; }
.login-form{ display:grid; gap:14px; max-width:var(--form-max); margin:0 auto; }
.login-fields{ display:grid; gap:12px; padding:16px 22px; }
.input-wrap{ position:relative; }
.input-wrap .icon-left{ position:absolute; left:12px; top:50%; transform:translateY(-50%); opacity:.9; }
.input-wrap input{
  width:100%; height:var(--ctrl-h); padding:0 42px 0 38px;
  border-radius:12px; background:var(--field-bg); color:var(--text);
  border:1px solid var(--field-bd); outline:none;
  transition:border-color .2s, box-shadow .2s, background .2s;
}
.input-wrap input::placeholder{ color:var(--field-placeholder); }
.input-wrap input:hover{ border-color:var(--field-bd-hover); }
.input-wrap input:focus{ border-color:var(--field-bd-focus); box-shadow:0 0 0 6px var(--field-ring); }
.icon-btn{
  position:absolute; right:8px; top:50%; transform:translateY(-50%);
  display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px; border-radius:10px; border:1px solid var(--glass-bd);
  background:var(--glass-bg); color:var(--text); cursor:pointer; backdrop-filter:blur(4px);
}
.icon-btn:hover{ border-color:#ffffff55; }
.error-msg{ font-size:12px; color:#ff8a8a; padding:6px 2px 0; min-height:18px; }
.field.invalid input{ border-color:#ff8484 !important; box-shadow:0 0 0 6px #ff848418 !important; }

.aux-row{ display:flex; justify-content:center; align-items:center; gap:16px; margin-top:6px; text-align:center; }
.remember{ display:inline-flex; align-items:center; gap:8px; font-size:14px; color:var(--text); opacity:.9; white-space:nowrap; }
.remember input{ width:16px; height:16px; accent-color: var(--accent); }
.aux-row a{ white-space:nowrap; }

.social-row{ display:grid; gap:10px; }
.social-btn{ display:flex; align-items:center; gap:10px; justify-content:center; }
.login-actions{ display:flex; gap:14px; justify-content:center; }
#loginSubmitBtn.primary{ min-width:160px; }

.auth-tabs{ display:flex; gap:8px; justify-content:center; margin-top:8px; }
.auth-tab{
  padding:8px 12px; border-radius:12px;
  background: var(--glass-bg); border:1px solid var(--glass-bd);
  color: var(--text); cursor:pointer; user-select:none; backdrop-filter: blur(6px);
}
.auth-tab.active{
  background: linear-gradient(180deg,#252f47,#1b243b);
  border-color:#ffffff44; font-weight:800;
}

/* Info modal */
#info .modal-body { text-align: initial; }
#infoList.free-list{
  display:grid; gap:10px; max-height:260px; overflow:auto; padding-right:4px;
}
#infoList .free-card{
  background: var(--card-bg); border: var(--card-bd);
  box-shadow: var(--card-shadow), inset 0 0 0 1px #ffffff12;
  border-radius: var(--card-r); padding:16px 22px;
  display:flex; align-items:center; gap:12px; color: var(--text);
}
#infoList .free-card:hover{ border-color:#ffffff44; box-shadow: var(--card-hover-shadow); }
#infoList .free-card .info{ display:flex; align-items:center; gap:10px; font-weight:800; color: var(--text); }
#infoList .free-card i{ font-size:18px; flex:0 0 auto; }
#infoList .free-card .info-title{ font-weight:800; color:var(--text); }

/* login/signup vahetamise lingid */
.auth-switch{ text-align:center; margin-top:6px; }
.auth-switch a{
  color: var(--text); font-weight:800;
  text-decoration: underline; text-underline-offset: 3px;
}
.auth-switch a:hover{ opacity:.9; }

/* Ratta kanvas – enne aktiveerimist veidi tumedam */
.wheel-wrap #wheel{ transition: filter .25s ease; }
.wheel-wrap:not(.wheel-active) #wheel{ filter: brightness(.72) saturate(.92) contrast(1.06); }
.wheel-wrap.wheel-active #wheel{ filter: none; }




