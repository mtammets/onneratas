.wheel-wrap{
  position:relative; width:min(92vw,340px); aspect-ratio:1/1; border-radius:50%;
  display:grid; place-items:center; overflow:hidden;
  background:
    radial-gradient(closest-side,#0d1223 55%,transparent 56%),
    radial-gradient(circle at 50% 50%,#ffcf3322,#ff6f3c10 40%,transparent 60%),
    radial-gradient(farthest-side,#1a213b,#0c1121 65%,#070b14);
  box-shadow:0 0 0 4px #1b2340, inset 0 0 40px 8px #0007, 0 15px 60px #0009;
  transition:box-shadow .25s ease, transform .25s ease;
}
.rotor{position:absolute; inset:0; display:grid; place-items:center; will-change:transform}
#wheel{width:92%; height:92%; display:block}
.pointer{
  position:absolute; top:-4px; left:50%; transform:translateX(-50%);
  width:0; height:0; border-left:12px solid transparent; border-right:12px solid transparent;
  border-top:18px solid var(--accent); filter:drop-shadow(0 6px 6px #0008);
  transition:filter .25s ease;
}

/* Aktiivse ratta glow */
.wheel-wrap.wheel-active{
  box-shadow:
    0 0 0 4px #1b2340,
    inset 0 0 60px 12px #0009,
    0 24px 90px rgba(0,0,0,.9),
    0 0 42px 6px rgba(255,210,138,.25);
}
.pointer.wheel-active{ filter: drop-shadow(0 10px 10px rgba(255,210,138,.55)); }

/* ── BULBS (parandus: õmblusjooned eemaldatud) ── */
.bulbs{
  position:absolute; inset:8px; /* varem 6px – tõmbame veidi sissepoole */
  margin:0; padding:0; list-style:none; pointer-events:none;
  will-change:transform;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
  transform:translateZ(0);
}
.bulbs li{
  position:absolute; width:10px; height:10px; border-radius:50%;
  /* baasring sama tooniga mis ratta serv – peidab AA seam'i */
  background:#0c1121;
  /* eemaldasime inset-varju – see tekitas musti joonekesi */
  box-shadow:none;
  animation:twinkle 1.4s infinite var(--delay) ease-in-out;
  outline:1px solid transparent; /* Chrome compositing nipp */
}
.bulbs li::after{
  content:"";
  position:absolute; inset:0; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff, #ffd089 55%, #b86b00 80%);
  box-shadow:0 0 12px 3px #ffdc8a55; /* väline glow pseudo-elemendile */
  pointer-events:none;
}

@keyframes twinkle{0%,100%{opacity:.5; transform:scale(.9)} 50%{opacity:1; transform:scale(1.08)}}

.axle{
  position:absolute; width:36%; aspect-ratio:1/1; border-radius:50%;
  background:radial-gradient(closest-side,#251a0f,#000); box-shadow:inset 0 6px 20px #000, 0 4px 30px #000a;
  display:grid; place-items:center;
}
.spin-btn{
  width:86%; aspect-ratio:1/1; border-radius:50%; border:none; cursor:pointer; position:relative;
  color:#3b1300; font-weight:900; letter-spacing:.08em; transition:transform .08s ease, filter .2s ease, opacity .2s ease;
  background:radial-gradient(circle at 30% 30%,#fff 0,#ffd2a1 40%,#ff8c4c 70%,#ff6f3c 100%);
  box-shadow:inset 0 5px 10px #fff7, 0 10px 16px #0008, 0 0 0 6px #2b1e10;
}
.spin-btn:active{transform:scale(.98)}
.spin-btn:disabled{opacity:.55; cursor:not-allowed; filter:saturate(.75)}
.spin-label{font-size:16px}

/* Ratta kanvas – enne aktiveerimist veidi tumedam */
.wheel-wrap #wheel{ transition: filter .25s ease; }
.wheel-wrap:not(.wheel-active) #wheel{ filter: brightness(.72) saturate(.92) contrast(1.06); }
.wheel-wrap.wheel-active #wheel{ filter: none; }


/* Näita kesknuppu ainult siis, kui ratas on aktiveeritud */
.wheel-wrap:not(.wheel-active) .axle .spin-btn {
  opacity: 0;
  pointer-events: none;
  transform: scale(0.96);
  transition: opacity .2s ease, transform .2s ease;
}

.wheel-wrap.wheel-active .axle .spin-btn {
  opacity: 1;
  pointer-events: auto;
  transform: none;
}
/* Kesk-GIF (täidab telje augu, nähtav ainult show-gif režiimis) */
.axle { position: relative; }
.center-gif{
  position:absolute; inset:0;
  width:100%; height:100%; border-radius:50%;
  object-fit:cover;
  opacity:0; pointer-events:none;
  transition:opacity .22s ease;
  z-index:2; /* telje sees, kuid nupu all */
}

/* Võidu järel näita GIF-i */
.wheel-wrap.show-gif .center-gif{ opacity:1; }

/* Kui ratas on taas aktiveeritud (AKTIVEERI vajutatud), peida GIF */
.wheel-wrap.wheel-active .center-gif{ opacity:0; }

/* Kindluse mõttes peida nupp, kui GIF on väljas */
.wheel-wrap.show-gif #spinBtn{
  opacity:0;
  pointer-events:none;
}
